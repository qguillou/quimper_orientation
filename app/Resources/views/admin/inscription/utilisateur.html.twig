{% extends 'base_admin.html.twig' %}

{% block body %}
<div class="col-md-12">
  <h1>Administration des utilisateurs</h1>
</div>
<div class="col-md-3">
  <div class="list-group">
    {% for u in users %}
    <a href="/admin/inscription/utilisateur/{{u.getId()}}/" class="list-group-item {% if active == u.getId() %}active{% endif %}">
      {{u.getUsername()}}
    </a>
    {% endfor %}
  </div>
</div>

<div class="col-md-1">
</div>

<div class="col-md-6">
  <div class="row">
    {% for successMessage in app.session.flashbag.get('success') %}
    <div class="alert alert-dismissible alert-success">
      {{ successMessage }}
    </div>
    {% endfor %}

    {% for errorMessage in app.session.flashbag.get('error') %}
    <div class="alert alert-dismissible alert-danger">
      {{ errorMessage }}
    </div>
    {% endfor %}

    {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
    <fieldset>
      <h2>Consultation d'un profil utilisateur</h2>
      <p class="lead">Vous pouvez uniquement supprimer un utilisateur ou lui donner les droits d'administration.</p>
      {{ form_errors(form) }}

      <div class="row">
        <div class="form-group">
          {{ form_label(form.username, "Pseudo", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

          <div class="col-sm-6">
            {{ form_widget(form.username, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.username) }}
          </div>
        </div>
      </div>
      <div class="row">
        <div class="form-group">
          {{ form_label(form.email, "Adresse mail", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

          <div class="col-sm-6">
            {{ form_widget(form.email, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.email) }}
          </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          {{ form_label(form.license, "Numéro de licence FFCO", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

          <div class="col-sm-6">
            {{ form_widget(form.license, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.license) }}
          </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          {{ form_label(form.nom, "Nom", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

          <div class="col-sm-6">
            {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.nom) }}
          </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group">
          {{ form_label(form.prenom, "Prénom", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

          <div class="col-sm-6">
            {{ form_widget(form.prenom, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.prenom) }}
          </div>
        </div>
      </div>

      <div class="row">
        {{ form_widget(form.delete, {'attr': {'class': 'btn btn-danger'}}) }}
        {% if active %}
        <button class="btn btn-primary" type="submit">Donner les droits d'administration</button>
        {% endif %}
      </div>
    </fieldset>
    {{ form_end(form) }}
  </div>
</div>
{% endblock %}

{% block stylesheets %}
{% endblock %}
